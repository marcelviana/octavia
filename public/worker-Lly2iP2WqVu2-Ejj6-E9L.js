console.log("Custom worker loaded"),self.addEventListener("error",e=>{console.error("Service worker error:",e.error)}),self.addEventListener("unhandledrejection",e=>{console.error("Service worker unhandled rejection:",e.reason),e.preventDefault()}),self.addEventListener("message",e=>{e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()}),self.addEventListener("activate",e=>{console.log("Service worker activated"),e.waitUntil((async()=>{const e=(await caches.keys()).filter(e=>e.includes("precache")||e.includes("workbox")||e.includes("manifest"));await Promise.all(e.map(e=>caches.delete(e))),console.log("Cleaned up old caches:",e)})())});